# Installation

```
pip install vllm
pip install steering-vectors
```

## Metrics:
| **Метрика**                | **Описание**                                                                                                                                                   |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **AutoencoderLinearity**   | Сравнивает, насколько хорошо слой аппроксимируется линейным или ReLU-автокодировщиком. Если MSE линейного и нелинейного почти равны — слой близок к линейному. |
| **GlobalLinearityIndex**   | Глобальный индекс линейности: отношение евклидовой и геодезической дистанции между случайными парами точек. Чем ближе к 1 — тем прямее многообразие.           |
| **IsomapResidualVariance** | Остаточная дисперсия при развёртке Isomap: измеряет, сколько информации теряется при аппроксимации геодезической структуры.                                    |
| **IsotropyRatio**          | Отношение первой (наибольшей) собственной дисперсии к средней по спектру. Чем больше — тем менее изотропно пространство.                                       |
| **JlDistortion**           | Среднее относительное искажение L2-дистанций при случайных Johnson–Lindenstrauss проекциях. Чем ниже — тем «плосче» слой.                                      |
| **LaplacianStressCurve**   | Остаточная ошибка (stress) при аппроксимации Laplacian Eigenmaps — показывает, насколько хорошо графовая структура слоя разворачивается в низкую размерность.  |
| **Lipschitz**              | Локальный Липшицев коэффициент между соседними слоями. Оценивает локальную растяжимость или сжатие преобразования.                                             |
| **LtsaError**              | Остаточная ошибка при Local Tangent Space Alignment — показывает качество локальной аппроксимации многообразия касательными подпространствами.                 |
| **LleError**               | Остаточная ошибка при Locally Linear Embedding — показывает, насколько хорошо точки локально лежат на линейном многообразии.                                   |
| **LocalPcaReconError**     | Средняя ошибка реконструкции точек локальным PCA — характеризует локальную линейность.                                                                         |
| **Mapc**                   | Локальная точечная кривизна (MAPC): среднее искривление в окрестности каждой точки по касательному подпространству.                                            |
| **Nlc**                    | Non-Linear Component: измеряет вклад нелинейности между слоями. Можно считать по секантам, локально или через MSE линейной аппроксимации.                      |
| **OllivierRicciCurvature** | Кривизна Олливье-Риччи на k-NN графе слоя — отражает, насколько сильно граф «искривлён» относительно локальных связей.                                         |
| **PcaNComponents**         | Количество главных компонент, объясняющих заданную долю общей дисперсии (например, 95%).                                                                       |
| **PersistentBetti**        | Betti-числа Rips-комплекса — топологическая мера: число компонент связности, дыр и циклов в данных.                                                            |
| **ShepardRsq**             | Коэффициент детерминации Shepard-плота: сравнивает истинные L2-дистанции и аппроксимированные после PCA.                                                       |
| **TwoNnId**                | Интринзик-дименшн методом 2-Nearest-Neighbors.                                                                                                                 |
| **MleId**                  | Интринзик-дименшн методом Maximum Likelihood Estimation.                                                                                                       |
| **UmapIsomapPlot**         | Строит развёртку данных с помощью UMAP и Isomap — для наглядного сравнения нелинейной структуры слоя.                                                          |
